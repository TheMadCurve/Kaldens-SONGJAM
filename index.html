<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Vote for your favorites in Kalden's SONGJAM">
  <link rel="icon" href="logo-transparent.png" type="image/x-icon" />
  <title>Kalden's SONGJAM - Vote for Your Favorites!</title>
  
  <!-- Supabase & Tailwind -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  
  <!-- Preconnect for performance -->
  <link rel="preconnect" href="https://vfkalemgmhobyuqvzreh.supabase.co">
  <link rel="preconnect" href="https://static-cdn.jtvnw.net">
</head>
<body>
  <!-- Sticky Header -->
  <header class="sticky-header">
  
<div class="header-logo">
  <img src="logo-transparent.png" 
       alt="Kalden's SONGJAM" 
       class="logo-img">
  <img src="https://static-cdn.jtvnw.net/emoticons/v2/emotesv2_59d9cc306ea84ce6b15ede4b8ddd476f/default/dark/3.0" 
       alt="Easter egg" 
       class="logo-easter-egg">
  <h1 class="header-title">Kalden's SONGJAM</h1>
</div>
  
  <!-- Votes remaining (centered) -->
  <div class="header-center">
    <div id="votes-remaining" class="votes-remaining" style="display: none;">
      <span class="votes-count">10</span> votes left
    </div>
  </div>
  
  <!-- Auth buttons (right) -->
  <div class="header-actions">
    <!-- Logout button (shown when logged in) -->
    <button id="logout-btn" class="logout-btn" style="display: none;">Logout</button>
    
    <!-- Login Button (shown when logged out) -->
    <button id="login-btn" class="login-btn">
      <svg class="twitch-icon" viewBox="0 0 24 24" width="20" height="20">
        <path fill="currentColor" d="M11.571 4.714h1.715v5.143H11.57zm4.715 0H18v5.143h-1.714zM6 0L1.714 4.286v15.428h5.143V24l4.286-4.286h3.428L22.286 12V0zm14.571 11.143l-3.428 3.428h-3.429l-3 3v-3H6.857V1.714h13.714Z"/>
      </svg>
      Sign in with Twitch
    </button>
  </div>
</header>

  <!-- Main Content -->
  <main id="main-content" class="main-content">
    <!-- Artist cards or login prompt will be inserted here -->
  </main>

  <!-- Loading Overlay (separate from main-content) -->
  <div id="loading-state" class="loading-overlay" style="display: none;">
    <div class="loading-spinner large"></div>
    <p>Loading artists...</p>
  </div>

  <!-- Submit Section (fixed at bottom when votes are pending) -->
  <div id="submit-section" class="submit-section" style="display: none;">
    <div class="submit-container">
      <div class="submit-info">
        <span id="pending-votes-count">0</span> pending votes
      </div>
      <button id="submit-votes-btn" class="submit-votes-btn">
        Submit All Votes
      </button>
    </div>
  </div>

  <!-- Thank You Modal -->
  <div id="thank-you-modal" class="modal-overlay" style="display: none;" role="dialog" aria-modal="true">
    <div class="modal-content thank-you-content">
      <h2>ðŸŽ‰ Thank You for Voting!</h2>
      <p>You've used all 10 of your votes. Thanks for participating in Kalden's SONGJAM!</p>
      <p class="thank-you-subtitle">The artists appreciate your support!</p>
      <button id="thank-you-close" class="modal-btn modal-btn-primary">Close</button>
    </div>
  </div>

  <!-- Toast Container -->
  <div id="toast-container" class="toast-container" aria-live="polite" aria-atomic="true"></div>

  <!-- Scripts -->
  <script src="config.js"></script>
  <script src="script.js"></script>

  <!-- Participating Artists Section -->
  <section class="participating-artists-section">
    <h2 class="participating-artists-title">Participating Artists</h2>
    <div class="artists-carousel">
      <div class="artists-track">
        <a href="https://www.twitch.tv/samoconnellmusic" target="_blank" rel="noopener noreferrer" class="participating-artist">
          <img src="https://static-cdn.jtvnw.net/jtv_user_pictures/8f9b2dbb-e61e-477a-8384-2ae18b28bc3c-profile_image-300x300.png" 
               alt="Sam O'Connell" 
               class="artist-avatar artist-border-1"
               loading="lazy">
          <!-- <span class="artist-name">samoconnellmusic</span> -->
        </a>
        
        <a href="https://www.twitch.tv/magic_mandofox" target="_blank" rel="noopener noreferrer" class="participating-artist">
          <img src="https://static-cdn.jtvnw.net/jtv_user_pictures/0a9b2b78-0305-4a49-8d12-71b59f14e8da-profile_image-300x300.png" 
               alt="Magic Mandofox" 
               class="artist-avatar artist-border-2"
               loading="lazy">
          <!-- <span class="artist-name">magic_mandofox</span> -->
        </a>
        
        <a href="https://www.twitch.tv/crrissa_the_cyberbard" target="_blank" rel="noopener noreferrer" class="participating-artist">
          <img src="https://static-cdn.jtvnw.net/jtv_user_pictures/d0516316-b444-45da-a92f-027a183a3123-profile_image-300x300.png" 
               alt="Crrissa" 
               class="artist-avatar artist-border-3"
               loading="lazy">
          <!-- <span class="artist-name">crrissa_the_cyberbard</span> -->
        </a>
        
        <a href="https://www.twitch.tv/theblindbusker" target="_blank" rel="noopener noreferrer" class="participating-artist">
          <img src="https://static-cdn.jtvnw.net/jtv_user_pictures/d916a14b-5d4b-4e24-a26d-b1c9b833c945-profile_image-300x300.png" 
               alt="The Blind Busker" 
               class="artist-avatar artist-border-4"
               loading="lazy">
          <!-- <span class="artist-name">theblindbusker</span> -->
        </a>

        <a href="https://www.twitch.tv/steggymusic" target="_blank" rel="noopener noreferrer" class="participating-artist">
          <img src="https://static-cdn.jtvnw.net/jtv_user_pictures/94ef821d-552d-488f-b68c-1f1df61feae6-profile_image-300x300.png" 
               alt="Steggy" 
               class="artist-avatar artist-border-6"
               loading="lazy">
          <!-- <span class="artist-name">steggymusic</span> -->
        </a>
        
        <a href="https://www.twitch.tv/musicwithkev" target="_blank" rel="noopener noreferrer" class="participating-artist">
          <img src="https://static-cdn.jtvnw.net/jtv_user_pictures/2a00a824-2466-4b71-a3da-3deb9db52de9-profile_image-300x300.png" 
               alt="Music With Kev" 
               class="artist-avatar artist-border-5"
               loading="lazy">
          <!-- <span class="artist-name">musicwithkev</span> -->
        </a>
      </div>
    </div>
  </section>

  <footer id="footer" class="tmc-callout">
    <table class="tmc-signature">
      <tr class="p">
        <td>Made by</td>
      </tr>
      <tr class="tmc-img">
        <td>
          <a href="https://themadcurve.cc" target="_blank" rel="noopener noreferrer">
            <img src="images/themadcurve_logo.webp" alt="The Mad Curve" width="65" height="65" loading="lazy">
          </a>
        </td>
      </tr>
    </table>
  </footer>
</body>
</html>
